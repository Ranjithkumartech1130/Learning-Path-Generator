<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BugBuster AI | Dashboard</title>
    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@500;600;700&family=Lora:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Markdown Parser -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="template-styles.css">
    <link rel="stylesheet" href="resume-base.css">
    <!-- CodeMirror -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/sql/sql.min.js"></script>
</head>

<body>
    <div class="stApp">
        <!-- Login View -->
        <div id="login-view" class="view">
            <div class="hero-card">
                <h1>üéì <span>BugBuster</span> AI</h1>
                <p>Personalized learning journeys powered by Generative AI. Explore detailed roadmaps, curated
                    resources, and track your growth.</p>
            </div>
            <div class="login-container mx-auto" style="max-width: 450px;">
                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="switchAuthTab('Login')">Login</button>
                    <button class="nav-tab" onclick="switchAuthTab('Register')">Register</button>
                </div>
                <div class="mt-6">
                    <h3 id="auth-title" class="text-center mb-6" style="font-family: 'Outfit'; font-size: 1.5rem;">
                        Welcome Back!</h3>
                    <div id="register-fields" style="display: none;">
                        <div class="form-group">
                            <label>Email Address</label>
                            <input type="email" id="reg-email" placeholder="email@example.com">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Username</label>
                        <input type="text" id="auth-username" placeholder="ranjith_kumar">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="auth-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <div id="confirm-fields" style="display: none;">
                        <div class="form-group">
                            <label>Confirm Password</label>
                            <input type="password" id="auth-confirm" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                    </div>
                    <button class="btn-primary w-full justify-center" onclick="handleAuth()" id="auth-btn">
                        Login
                    </button>
                </div>
            </div>
        </div>

        <!-- Onboarding View -->
        <div id="onboarding-view" class="view" style="display: none;">
            <div class="hero-card">
                <h1 id="onboarding-title">üëã Welcome!</h1>
                <p>Let's build your AI-powered profile to tailor your learning experience.</p>
            </div>
            <div class="glass-card max-w-4xl mx-auto">
                <h2 class="text-2xl font-bold mb-6" style="font-family: 'Outfit';">üìù Profile Setup</h2>
                <div class="grid-2">
                    <div>
                        <div class="form-group">
                            <label>Professional Bio</label>
                            <textarea id="profile-bio" placeholder="Tell us about your background and aspirations..."
                                style="height: 120px;"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Experience Level</label>
                            <select id="profile-level">
                                <option>Beginner</option>
                                <option>Intermediate</option>
                                <option>Advanced</option>
                                <option>Professional</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <div class="form-group">
                            <label>Your Current Skills (Comma separated)</label>
                            <input type="text" id="profile-skills" placeholder="Python, SQL, React...">
                        </div>
                        <div class="form-group">
                            <label>Learning Goals</label>
                            <input type="text" id="profile-goals" placeholder="Data Science, Web Development...">
                        </div>
                    </div>
                </div>
                <div class="grid-2 mt-4">
                    <div class="form-group">
                        <label>LinkedIn Profile URL</label>
                        <input type="url" id="profile-linkedin" placeholder="https://linkedin.com/in/yourprofile">
                    </div>
                    <div class="form-group">
                        <label>Mobile Number</label>
                        <input type="tel" id="profile-phone" placeholder="+1 (555) 123-4567">
                    </div>
                </div>
                <div class="metrics-row mt-4">
                    <div class="form-group">
                        <label>Time Commitment</label>
                        <select id="profile-time">
                            <option>1-5 hours / week</option>
                            <option>6-10 hours / week</option>
                            <option>11-20 hours / week</option>
                            <option>20+ hours / week</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Learning Style</label>
                        <select id="profile-style">
                            <option>Visual</option>
                            <option>Text-based</option>
                            <option>Project-oriented</option>
                            <option>Video-based</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Difficulty</label>
                        <select id="profile-difficulty">
                            <option>Beginner-friendly</option>
                            <option>Accelerated</option>
                            <option>Strictly Advanced</option>
                        </select>
                    </div>
                </div>
                <button class="btn-primary mt-6" onclick="saveProfile()">
                    <i data-lucide="save"></i> Save Profile & Enter Dashboard
                </button>
            </div>
        </div>
        <!-- Dashboard View -->
        <div id="dashboard-view" class="view" style="display: none;">
            <div class="hero-card">
                <h1>üéìBugbusters Dashboard</h1>
                <p id="dashboard-subtitle">Welcome back! Ready to continue your learning journey?</p>
            </div>

            <div class="nav-tabs">
                <button class="nav-tab active" onclick="switchTab('overview')"><i data-lucide="layout-dashboard"></i>
                    Overview</button>
                <button class="nav-tab" onclick="switchTab('path')"><i data-lucide="target"></i> Learning Path</button>
                <button class="nav-tab" onclick="switchTab('progress')"><i data-lucide="trending-up"></i>
                    Progress</button>
                <button class="nav-tab" onclick="switchTab('resume')"><i data-lucide="file-text"></i> AI Resume</button>
                <button class="nav-tab" onclick="switchTab('ide')"><i data-lucide="code"></i> IDE & Tasks</button>
                <button class="nav-tab" onclick="switchTab('profile')"><i data-lucide="user"></i> Profile</button>
            </div>

            <!-- TAB: Overview -->
            <div id="tab-overview" class="tab-view">
                <div class="metrics-row">
                    <div class="metric-card">
                        <div class="title">Active Days</div>
                        <div class="value">1 Days</div>
                    </div>
                    <div class="metric-card">
                        <div class="title">Current Streak</div>
                        <div class="value">1 Days üî•</div>
                    </div>
                    <div class="metric-card">
                        <div class="title">Total Time</div>
                        <div class="value">1h 0m</div>
                    </div>
                </div>
                <div class="grid-2 mt-4">
                    <div class="glass-card">
                        <h3 class="mb-4" style="color: #60a5fa;"><i data-lucide="lightbulb" style="height: 18px;"></i>
                            Personalized Insights</h3>
                        <div class="insight-blue mb-4">You're most consistent on weekday mornings. Keep up the momentum!
                        </div>
                        <div class="insight-purple" id="insight-skill">Strategic growth in your primary skills detected.
                        </div>
                    </div>
                    <div class="glass-card">
                        <h3 class="mb-4" style="color: #60a5fa;"><i data-lucide="award" style="height: 18px;"></i>
                            Skills & Goals</h3>
                        <p class="title" style="font-size: 0.8rem; margin-bottom: 5px; color: var(--text-dim);">ACTIVE
                            SKILLS</p>
                        <div id="skills-list" class="tags mb-4"></div>
                        <p class="title" style="font-size: 0.8rem; margin-bottom: 5px; color: var(--text-dim);">PRIMARY
                            GOALS</p>
                        <div id="goals-list" class="tags"></div>
                    </div>
                </div>
            </div>

            <!-- TAB: Learning Path -->
            <div id="tab-path" class="tab-view" style="display: none;">
                <div class="glass-card">
                    <h3 class="text-2xl font-bold mb-6" style="font-family: 'Outfit';">üéØ Create Your Learning Path</h3>
                    <div class="form-group">
                        <label>What is your learning goal? (e.g., Become a Data Analyst)</label>
                        <input type="text" id="path-goal" placeholder="e.g. Data Analyst">
                    </div>
                    <div class="form-group">
                        <label>Would you like to leverage your existing skills for this path?</label>
                        <div style="display: flex; gap: 20px; margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="radio" name="use-prev" value="yes" checked style="width: auto; margin: 0;">
                                Yes, accelerate my path
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="radio" name="use-prev" value="no" style="width: auto; margin: 0;"> No,
                                start from foundations
                            </label>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="generatePath()" id="gen-path-btn">
                        <i data-lucide="zap"></i> Generate My Learning Path
                    </button>

                    <div id="path-result" style="display: none;" class="path-result">
                        <h4 class="text-xl font-bold" style="color: #60a5fa; margin-bottom: 1.5rem;">üõ§ Your
                            Personalized Journey</h4>

                        <div class="glass-card"
                            style="background: rgba(0,0,0,0.3); border: 1px dashed var(--glass-border);">
                            <h5 class="mb-4 font-bold"><i data-lucide="layers"></i> Recommended Open Source Resources
                            </h5>
                            <div class="grid-3 text-center" style="gap: 10px;">
                                <div class="p-4" style="background: rgba(255,255,255,0.03); border-radius: 10px;">
                                    <p style="color: #60a5fa; font-weight: 600;">Top Courses</p>
                                    <ul
                                        style="list-style: none; padding: 0; margin-top: 10px; font-size: 0.9rem; color: #94a3b8;">
                                        <li>Coursera</li>
                                        <li>edX</li>
                                    </ul>
                                </div>
                                <div class="p-4" style="background: rgba(255,255,255,0.03); border-radius: 10px;">
                                    <p style="color: #10b981; font-weight: 600;">Practice</p>
                                    <ul
                                        style="list-style: none; padding: 0; margin-top: 10px; font-size: 0.9rem; color: #94a3b8;">
                                        <li>GitHub</li>
                                        <li>Stack Overflow</li>
                                    </ul>
                                </div>
                                <div class="p-4" style="background: rgba(255,255,255,0.03); border-radius: 10px;">
                                    <p style="color: #f59e0b; font-weight: 600;">Communities</p>
                                    <ul
                                        style="list-style: none; padding: 0; margin-top: 10px; font-size: 0.9rem; color: #94a3b8;">
                                        <li>Reddit</li>
                                        <li>Discord</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <h5 class="mb-4 font-bold mt-8"><i data-lucide="map"></i> Visual Roadmap</h5>
                        <div class="flowchart-container">
                            <img id="flowchart-img" src="" class="flowchart-img" alt="Flowchart Pipeline">
                        </div>

                        <div class="download-row">
                            <button class="btn-download"><i data-lucide="file-text"></i> Download TXT</button>
                            <button class="btn-download"><i data-lucide="image"></i> Download PNG</button>
                        </div>

                        <h5 class="mb-4 font-bold mt-8"><i data-lucide="book-open"></i> Detailed Learning Path</h5>
                        <div id="path-text" class="path-box"></div>
                    </div>
                </div>
            </div>

            <!-- TAB: Progress -->
            <div id="tab-progress" class="tab-view" style="display: none;">
                <div class="glass-card">
                    <h3 class="text-2xl font-bold mb-6" style="font-family: 'Outfit';">üìà Your Learning Progress</h3>
                    <div class="metrics-row">
                        <div class="metric-card">
                            <div class="title">Active Days</div>
                            <div class="value">1 days</div>
                        </div>
                        <div class="metric-card">
                            <div class="title">Current Streak</div>
                            <div class="value">1 days üî•</div>
                        </div>
                        <div class="metric-card">
                            <div class="title">Total Time</div>
                            <div class="value">1h 0m</div>
                        </div>
                    </div>

                    <div class="glass-card"
                        style="height: 300px; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.4);">
                        <div class="text-center">
                            <i data-lucide="activity"
                                style="width: 48px; height: 48px; color: #3b82f6; margin-bottom: 1rem;"></i>
                            <p style="color: #64748b;">Daily Study Activity Chart Placeholder</p>
                        </div>
                    </div>

                    <h4 class="text-xl font-bold mt-8 mb-6" style="font-family: 'Outfit';">üìù Update Your Progress</h4>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Activity Type</label>
                            <select id="prog-type">
                                <option>Course Watching</option>
                                <option>Practical Project</option>
                                <option>Reading Documentation</option>
                                <option>Bug Fixing</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Skill / Subject</label>
                            <input type="text" id="prog-skill" placeholder="e.g. Python, SQL">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Duration (minutes)</label>
                        <input type="number" id="prog-time" value="60">
                    </div>
                    <div class="form-group">
                        <label>Details</label>
                        <textarea id="prog-details" placeholder="What did you achieve today?"></textarea>
                    </div>
                    <button class="btn-primary" onclick="updateProgress()">
                        <i data-lucide="plus-circle"></i> Log Activity
                    </button>
                </div>
            </div>

            <!-- TAB: Resume -->
            <div id="tab-resume" class="tab-view" style="display: none;">
                <div class="glass-card text-center py-12">
                    <i data-lucide="sparkles"
                        style="width: 64px; height: 64px; color: #f59e0b; margin-bottom: 1.5rem;"></i>
                    <h3 class="text-3xl font-bold mb-4" style="font-family: 'Outfit';">AI Resume Builder</h3>
                    <p class="mb-8" style="color: #94a3b8; max-width: 500px; margin: 0 auto 2rem;">Turn your learning
                        achievements into a professional, creative resume tailored to your dream career path.</p>

                    <!-- Template Selector -->
                    <div class="template-selector mb-8">
                        <h4 class="text-xl font-bold mb-4" style="color: #60a5fa;">Choose Your Resume Template</h4>
                        <div class="template-grid">
                            <div class="template-card" onclick="selectTemplate('modern')" data-template="modern">
                                <div class="template-preview"
                                    style="background: linear-gradient(135deg, #1a3a4a 0%, #2d4e5e 100%);">
                                    <div class="template-name">Modern Professional</div>
                                    <div class="template-desc">Dark sidebar with gold accents</div>
                                </div>
                            </div>
                            <div class="template-card" onclick="selectTemplate('creative')" data-template="creative">
                                <div class="template-preview"
                                    style="background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);">
                                    <div class="template-name">Creative Orange</div>
                                    <div class="template-desc">Vibrant and eye-catching</div>
                                </div>
                            </div>
                            <div class="template-card" onclick="selectTemplate('elegant')" data-template="elegant">
                                <div class="template-preview"
                                    style="background: linear-gradient(135deg, #7c2d3a 0%, #a84655 100%);">
                                    <div class="template-name">Elegant Burgundy</div>
                                    <div class="template-desc">Sophisticated and refined</div>
                                </div>
                            </div>
                            <div class="template-card" onclick="selectTemplate('tech')" data-template="tech">
                                <div class="template-preview"
                                    style="background: linear-gradient(135deg, #1e3a5f 0%, #2d5a8f 100%);">
                                    <div class="template-name">Tech Professional</div>
                                    <div class="template-desc">Clean and modern design</div>
                                </div>
                            </div>
                            <div class="template-card active" onclick="selectTemplate('coral')" data-template="coral">
                                <div class="template-preview"
                                    style="background: linear-gradient(135deg, #c85a54 0%, #e07a6f 100%);">
                                    <div class="template-name">Coral Classic</div>
                                    <div class="template-desc">Warm and approachable</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button class="btn-primary" onclick="generateResume()">
                        Generate AI Resume
                    </button>
                    <div id="resume-box" class="path-box mt-8 text-left" style="display: none;"></div>
                </div>
            </div>

            <!-- TAB: Profile -->
            <div id="tab-profile" class="tab-view" style="display: none;">
                <div class="glass-card">
                    <div class="grid-2">
                        <div>
                            <h3 class="mb-4" style="color: #60a5fa; font-family: 'Outfit'; font-size: 1.5rem;">üë§
                                Account Profile</h3>
                            <p class="mb-2"><span style="color: var(--text-dim);">USERNAME:</span> <span id="prof-user"
                                    style="font-weight: 600; color: white;"></span></p>
                            <p class="mb-2"><span style="color: var(--text-dim);">EMAIL:</span> <span id="prof-email"
                                    style="font-weight: 600; color: white;"></span></p>
                            <p class="mt-4 italic"
                                style="color: #cbd5e1; border-left: 2px solid #3b82f6; padding-left: 15px;"
                                id="prof-bio"></p>
                        </div>
                        <div class="text-right">
                            <button class="btn-primary" style="margin-bottom: 10px;" onclick="goToOnboarding()">
                                <i data-lucide="edit-3"></i> Edit Experience
                            </button>
                            <br>
                            <button class="btn-primary logout-btn" onclick="logout()">
                                <i data-lucide="log-out"></i> Logout
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- TAB: IDE -->
            <div id="tab-ide" class="tab-view" style="display: none;">
                <div class="ide-container">
                    <div class="task-sidebar">
                        <div class="task-sidebar-header">
                            <h3 style="color: #60a5fa; font-weight: 700; display: flex; align-items: center; gap: 8px;">
                                <i data-lucide="list"></i> Tasks
                            </h3>
                        </div>
                        <div id="task-list" class="task-list">
                            <p class="text-sm" style="color: var(--text-dim); padding: 10px;">Select a goal to generate
                                tasks.</p>
                        </div>
                        <div style="padding: 15px;">
                            <button class="btn-primary w-full justify-center" onclick="generateTasks()"
                                id="fetch-tasks-btn">
                                <i data-lucide="plus"></i> Get More Tasks
                            </button>
                        </div>
                    </div>
                    <div class="code-area">
                        <div
                            style="padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <h2 id="current-task-title" class="text-xl font-bold mb-1" style="color: white;">Select
                                    a Task</h2>
                                <p id="current-task-desc" class="text-sm" style="color: var(--text-dim);">Code your
                                    solution below.</p>
                            </div>
                            <div style="width: 150px;">
                                <select id="language-select" onchange="changeLanguage()"
                                    style="background: rgba(15, 23, 42, 0.8); color: var(--text-dim); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; padding: 6px; font-size: 0.85rem;">
                                    <option value="python">Python</option>
                                    <option value="javascript">JavaScript</option>
                                    <option value="java">Java</option>
                                    <option value="cpp">C++</option>
                                    <option value="csharp">C#</option>
                                    <option value="html">HTML</option>
                                    <option value="css">CSS</option>
                                    <option value="sql">SQL</option>
                                </select>
                            </div>
                        </div>

                        <div id="editor-container" style="flex: 1; overflow: hidden; position: relative;">
                            <textarea id="code-editor" name="code-editor"></textarea>
                        </div>

                        <!-- Output Area -->
                        <div style="padding: 0 20px; margin-top: 10px;">
                            <div id="execution-result" style="display: none;"></div>
                        </div>

                        <!-- Controls -->
                        <div class="code-toolbar">
                            <div class="flex gap-3">
                                <button class="btn-hint" onclick="toggleHint()" id="hint-btn">
                                    <i data-lucide="lightbulb"></i> Show Hint
                                </button>
                                <button class="btn-secondary" onclick="resetCode()">
                                    <i data-lucide="rotate-ccw"></i> Reset
                                </button>
                            </div>
                            <div class="flex gap-3">
                                <button class="btn-run" onclick="runCode()">
                                    <i data-lucide="play"></i> Run Code
                                </button>
                                <button class="btn-primary" onclick="submitTask()">
                                    <i data-lucide="check-circle"></i> Submit
                                </button>
                            </div>
                        </div>

                        <div id="solution-area"
                            style="display: none; margin: 0 20px 20px 20px; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 8px; border: 1px dashed #f59e0b;">
                            <h4 style="color: #f59e0b; font-size: 0.9rem; font-weight: bold; margin-bottom: 10px;">üí°
                                Solution / Hint</h4>
                            <pre id="solution-code"
                                style="color: #cbd5e1; font-family: 'Fira Code', monospace; font-size: 0.9rem; overflow-x: auto; white-space: pre-wrap;"></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="template-selector.js"></script>
    <script src="script.js"></script>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
    </script>
</body>

</html>